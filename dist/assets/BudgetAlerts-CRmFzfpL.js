import{j as e,m as t,c as i,s as d,q as h,r as c,L as g,t as f,v as y,p}from"./tremor-DuBm45GE.js";import{u as l}from"./query-BRHl6Ygq.js";import{E as u,b as x}from"./ErrorMessage-DW1UFm4n.js";import{L as j}from"./index-CIifJi9f.js";function I(){const{data:s,isLoading:m,error:o}=l({queryKey:["budgets","overview"],queryFn:x.getOverview,retry:1});if(m)return e.jsx(j,{});if(o)return e.jsx(u,{message:"예산 현황을 불러오는데 실패했습니다."});if(!(s!=null&&s.length))return e.jsx(t,{children:"예산 데이터가 없습니다."});const n=s.map(r=>({name:r.project_name,예산:r.total_budget,사용액:r.used_amount,잔액:r.remaining_amount}));return e.jsxs(i,{children:[e.jsx(d,{children:"예산 현황"}),e.jsxs(h,{numItems:1,numItemsSm:2,numItemsLg:3,className:"gap-4 mt-4",children:[e.jsxs(i,{children:[e.jsx(t,{children:"총 예산"}),e.jsxs(c,{children:[new Intl.NumberFormat("ko-KR").format(s.reduce((r,a)=>r+a.total_budget,0)),"원"]})]}),e.jsxs(i,{children:[e.jsx(t,{children:"총 사용액"}),e.jsxs(c,{children:[new Intl.NumberFormat("ko-KR").format(s.reduce((r,a)=>r+a.used_amount,0)),"원"]})]}),e.jsxs(i,{children:[e.jsx(t,{children:"총 잔액"}),e.jsxs(c,{children:[new Intl.NumberFormat("ko-KR").format(s.reduce((r,a)=>r+a.remaining_amount,0)),"원"]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx(g,{data:n,index:"name",categories:["예산","사용액","잔액"],colors:["blue","red","green"],valueFormatter:r=>`${new Intl.NumberFormat("ko-KR").format(r)}원`,yAxisWidth:100})})]})}function _(){const{data:s,isLoading:m,error:o}=l({queryKey:["budgets","alerts"],queryFn:x.getAlerts,retry:1});return m?e.jsx(j,{}):o?e.jsx(u,{message:"예산 알림을 불러오는데 실패했습니다."}):s!=null&&s.length?e.jsxs(i,{children:[e.jsx(d,{children:"예산 알림"}),e.jsx(f,{className:"mt-4",children:s.map((n,r)=>e.jsx(y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(t,{children:n.project_name}),e.jsx(t,{className:"text-sm text-gray-500",children:n.message})]}),e.jsx(p,{color:n.severity==="high"?"red":n.severity==="medium"?"yellow":"blue",children:n.type})]})},r))})]}):e.jsx(t,{children:"현재 알림이 없습니다."})}export{I as B,_ as a};
